# Vercel 部署指南

## 🚀 部署到 Vercel

### 准备工作

1. **环境变量配置**
   在 Vercel 后台设置以下环境变量：
   ```
   SILICON_FLOW_API_KEY=your_api_key_here
   ```

2. **推送代码到 GitHub**
   ```bash
   git add .
   git commit -m "Ready for Vercel deployment"
   git push origin main
   ```

### 部署步骤

1. 访问 [Vercel](https://vercel.com/)
2. 连接 GitHub 账户
3. 选择你的仓库
4. 设置环境变量
5. 点击 Deploy

### 免费套餐限制

#### ✅ 足够使用的场景
- **个人使用或小团队**：每月 < 1000 次优化
- **轻度商业使用**：每月 < 5000 次页面访问
- **开发测试**：完全够用

#### ⚠️ 可能不够的场景
- **高频率使用**：每天 > 100 次商品分析
- **大量用户**：同时在线用户 > 50
- **商业级应用**：需要 99.9% 可用性

### 性能优化

#### 已实施的优化
1. **减少超时时间**：8秒（适配10秒限制）
2. **减少重试次数**：最多2次重试
3. **移除图片代理**：直接使用Amazon CDN
4. **智能图片加载**：多图片回退机制

#### 监控建议
- 使用 Vercel Analytics 监控性能
- 关注函数执行时间和错误率
- 定期检查免费套餐使用情况

### 升级路径

如果免费套餐不够用，考虑：
1. **Vercel Pro** ($20/月)：无限带宽，更长执行时间
2. **替代方案**：Netlify、Railway、Render
3. **自建服务器**：VPS + Docker

### 故障排查

#### 常见问题
1. **函数超时**：优化爬虫代码，减少请求时间
2. **图片加载失败**：Amazon防盗链，已通过直接访问解决
3. **API配额不足**：升级套餐或优化调用频率

#### 调试方法
```bash
vercel dev  # 本地调试
vercel logs # 查看线上日志
```

### 成本估算

#### 免费套餐 (Hobby)
- ✅ 100GB 带宽/月
- ✅ 100,000 函数调用/月
- ✅ 10秒函数执行时间
- ✅ 适合个人项目

#### 预计使用量
- 每次商品分析：~2-3个API调用
- 平均带宽：每次 < 1MB
- **结论**：免费套餐可支持每月 ~30,000 次商品分析

---

🎉 **部署完成后，你的亚马逊优化助手将在全球CDN上运行！** 